(()=>{const t=navigator.languages.length?navigator.languages:[navigator.language],a=window.localStorage.getItem("_$appDataLastVisit");window.localStorage.setItem("_$appDataLastVisit",Date.now());const e=window.$appDataConfig.site_id,o=((t=15)=>[...Array(t)].join(".").replace(/[.]/g,t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)))(),n=window.location.host.includes("localhost")?"localhost:5000":"ssl-appdata.herokuapp.com",i=Object.freeze({CURRENT_VERSION:1,HOST:n,JSON_CONTENT_TYPE:"application/json",FORM_CONTENT_TYPE:"application/x-www-form-urlencoded",MAIN_ENDPOINT:"/api/v1/",SITE_META:"siteMeta",SITE_DATA:"siteData",ACCOUNT_CREATE_TRANSACTION_TYPE:0,DATA_MANAGE_TRANSACTION_TYPE:1,DB_ACTION_READ_TYPE:2,DB_ACTION_WRITE_TYPE:3,DATA_TO_READ:"$R",DATA_TO_WRITE:"$W",ANALYTICS:"ANALYTICS",ANALYTICS_FIELDS:["VIEW_COUNT","INTERNAL_JSON_CONFIG_DATA","INDIVIDUAL_VISIT_DATA","SESSION_STORAGE_DATA","ACTIONS"]}),_=`${location.protocol}//${i.HOST}${i.MAIN_ENDPOINT}`,T={"content-type":i.JSON_CONTENT_TYPE},A={async get(t,a=!0,e={}){let o;return o=a?`${URLBASE}${t}`:t,await fetch(o,{headers:e,credentials:"include"})},async post(t,a=!0,e,o={"content-type":"application/x-www-form-urlencoded"}){let n,i;return i="application/json"===o["content-type"].toLowerCase()&&"object"==typeof e?JSON.stringify(e):e,n=a?`${URLBASE}${t}`:t,await fetch(n,{method:"post",body:i,headers:o,credentials:"include"})}};if(!!window.appData&&!window.appDataOverride)throw new Error("Window already has an appData object set window.appDataOverride to true to override the object");const r={};r.constants=i,r.send=((t,a="ACTIONS",n=[])=>{const r={exclude:"ACTIONS"!==a||n.length?n:i.ANALYTICS_FIELDS.filter(t=>t!==a),$origin:window.$appDataConfig.site_origin,db_action:i.DB_ACTION_WRITE_TYPE,site_id:e,visit_id:o};return r.transaction_type=i.DATA_MANAGE_TRANSACTION_TYPE,r.ACTIONS=t,A.post(_,!1,r,T)});const s={visit_id:o,exclude:["ACTIONS"],site_id:e,visit_timestamp:Date.now(),db_action:i.DB_ACTION_WRITE_TYPE,$origin:window.$appDataConfig.site_origin,transaction_type:i.DATA_MANAGE_TRANSACTION_TYPE,INTERNAL_JSON_CONFIG_DATA:{_appVersion:i.CURRENT_VERSION,_referrer:document.referrer},INDIVIDUAL_VISIT_DATA:{is_touch:!!navigator.maxTouchPoints,user_agent:navigator.userAgent,page_location_on_send:window.location.href,languages:t,conn_type:navigator.connection.type},SESSION_STORAGE_DATA:{previousVisit:a}};window.appData=r,setTimeout(()=>{A.post(_,!1,s,T)},1e3)})();